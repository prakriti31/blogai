<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Manage Subscriptions</title>
    <link rel="stylesheet" href="/css/home-style.css" />
    <link rel="stylesheet" href="/css/subscription-style.css" />
</head>
<body>
<nav>
    <div class="logo"><a href="/home">Blog.ai</a></div>
    <div class="nav-items">
        <ul>
            <li><a href="/home">Home</a></li>
            <li><a href="/profile">My Profile</a></li>
            <li><a href="/logout">Logout</a></li>
        </ul>
    </div>
</nav>

<main class="subscriptions-container">
    <h1>Manage Your Topic Subscriptions</h1>

    <!-- Subscription Form -->
    <div class="subscription-form-container">
        <form action="/subscriptions/subscribe" method="post" class="subscription-form">
            <input type="text" name="topic" placeholder="Enter topic to subscribe" required>
            <button type="submit">Subscribe</button>
        </form>
    </div>

    <h2>Your Subscriptions</h2>
    <ul class="subscriptions-list">
        <% if (subscriptions.length) { %>
            <% subscriptions.forEach(function(topic){ %>
                <li class="subscription-item">
                    <span class="subscription-topic"><%= topic %></span>
                    <form action="/subscriptions/unsubscribe" method="post" class="unsubscribe-form">
                        <input type="hidden" name="topic" value="<%= topic %>">
                        <button type="submit">Unsubscribe</button>
                    </form>
                </li>
            <% }); %>
        <% } else { %>
            <li class="no-subscriptions">You have no subscriptions yet.</li>
        <% } %>
    </ul>

    <a href="/home" class="back-home-btn">Back to Home</a>
</main>
</body>
</html>
